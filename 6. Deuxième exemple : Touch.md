## Projet Clignotement d'une LED par "Touch"

Le NodeMCU32 dispose de nombreuses broches qui servent de "Touch pins", c'est à dire de touches capacitives remplaçant en quelque sorte des boutons mécaniques. Voir le "pinout" pour les broches associées. Par exemple, "Touch 0" est accessible via GPIO4. La fonction *touchRead(GPIO)* permet de lire la valeur.

Objectifs : 
* Faire un montage en plaçant simplement un fil en l’air sur la broche GPIO4 que nous pincerons avec les doigts pour allumer la Led bleue présente sur l’ESP32 (GPIO2) en-dessous d’un seuil (threshold) fixé à l’avance. Le pincement fait décroître les valeurs. 
* Sous VS Code, créer un projet appelé "Touch". Le code de base du fichier *main.cpp* est donné ci-dessous.
* Modifier le code afin de n'avoir qu'une fonction dans la boucle *loop()*, par exemple TouchDetect(touchPin, touchValue, threshold)
* Téléverser le code final, afficher les valeurs dans le moniteur série en pinçant le fil et vérifier le fonctionnement de la led bleue
* Déposer votre projet sur Github

Quand votre projet est dans l'espace de travail, vous pouvez créer un compte Github, si vous n'en avez pas, en allant sur le site : https://github.com/ et le publier. Votre dépôt prend par défaut le nom de votre projet. Il peut être privé ou public, par exemple :

![image](https://user-images.githubusercontent.com/44494044/130093650-7f39d625-7b4d-4b6b-907c-34e631f458ba.png)

Ensuite, en bas à droite, apparaît le résultat :

![image](https://user-images.githubusercontent.com/44494044/130094111-2b00a6c3-d766-4c54-a3c8-30c543bc21d5.png)

Vous pouvez vérifier le clonage de votre projet sur votre compte Github et ajouté un fichier README.md pour le commenter :

![image](https://user-images.githubusercontent.com/44494044/130094273-abc53bff-186e-4cd1-96dc-c0eda6c75100.png)
 

```javascript
#include <Arduino.h>

// set pin numbers
const int touchPin = 4;  // GPIO4
const int ledPin = 2;  // GPIO2 : Blue LED of the NodeMCU

// change with your threshold value
const int threshold = 25;
// variable for storing the touch pin value 
int touchValue;

void setup(){
  Serial.begin(115200);
  delay(1000); // give me time to bring up serial monitor
  // initialize the LED pin as an output:
  pinMode (ledPin, OUTPUT);
}
void loop(){
  // read the state of the pushbutton value:
  touchValue = touchRead(touchPin);
  Serial.print(touchValue);
  // check if the touchValue is below the threshold
  // if it is, set ledPin to HIGH
  if(touchValue < threshold){
    // turn LED on
    digitalWrite(ledPin, HIGH);
    Serial.println(" - LED on");
  }
  else{
    // turn LED off
    digitalWrite(ledPin, LOW);
    Serial.println(" - LED off");
  }
  delay(500);
}
```


